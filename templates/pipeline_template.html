<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- 
      TODO: Replace 'Pipeline Name' with the actual name of your pipeline, 
      e.g., "Structure Prediction - TargetX"
    -->
    <title>Pipeline Name - TargetX</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <!-- Sticky wrapper for header and navigation -->
        <div class="sticky-wrapper">
            <!-- Header -->
            <header>
                <!-- 
                  TODO: Replace 'üß¨ Pipeline Name' and the subtitle with your pipeline's details.
                -->
                <h1>üß¨ Pipeline Name</h1>
                <p class="subtitle">A brief description of what this pipeline does.</p>
                
                <!-- This project management UI is common and can be reused -->
                <div class="current-project" id="currentProject" style="display: none;">
                    <span class="project-badge">Project: <strong id="projectName">-</strong></span>
                    <button class="project-badge project-action-btn" onclick="changeProject()">‚ÜîÔ∏è Switch</button>
                    <button class="project-badge btn-primary" onclick="openNewProject()">‚ûï New</button>
                </div>
                <div class="no-project" id="noProject" style="display: block;">
                    <p class="text-muted">No project selected. Please select or create a project to begin.</p>
                </div>
            </header>

            <!-- Main Navigation Tabs -->
            <nav class="main-tabs">
                <!-- 
                  TODO: Move the 'active' class to the tab corresponding to this page.
                  For example, for the Structure Prediction page, the third link should be active.
                -->
                <a href="/" class="tab-link" data-tab="targetx">
                    <span class="tab-icon">üéØ</span>
                    <span class="tab-text">TargetX</span>
                </a>
                <a href="/monitor" class="tab-link" data-tab="monitor">
                    <span class="tab-icon">üìã</span>
                    <span class="tab-text">Monitor</span>
                </a>
                <a href="/mutational_analysis" class="tab-link" data-tab="mutation">
                    <span class="tab-icon">üß¨</span>
                    <span class="tab-text">Mutational Analysis</span>
                </a>
                <a href="#" class="tab-link active" data-tab="structure">
                    <span class="tab-icon">üî¨</span>
                    <span class="tab-text">Structure Prediction</span>
                </a>
                <a href="#" class="tab-link disabled" data-tab="library">
                    <span class="tab-icon">üìö</span>
                    <span class="tab-text">Library Preparation</span>
                    <span class="badge-soon">Soon</span>
                </a>
                <a href="#" class="tab-link disabled" data-tab="docking">
                    <span class="tab-icon">‚öõÔ∏è</span>
                    <span class="tab-text">Molecular Docking</span>
                    <span class="badge-soon">Soon</span>
                </a>
            </nav>
        </div>

        <!-- Main Content -->
        <main>
            <div class="card">
                <div class="card-header">
                    <h2>Pipeline Controls & Results</h2>
                </div>
                <p>This is where the main content for your new pipeline will go.</p>
                
                <!-- 
                  TODO: Replace this placeholder with your pipeline's specific UI elements,
                  such as input forms, tables, or result visualizations.
                -->
                <div class="pipeline-placeholder" style="margin-top: 20px; border: 2px dashed var(--border-color); padding: 40px; text-align: center; border-radius: 8px;">
                    <span style="font-size: 2rem;">‚öôÔ∏è</span>
                    <p class="text-muted" style="margin-top: 10px;">Pipeline-specific content goes here.</p>
                </div>

            </div>
        </main>
    </div>

    <!-- 
      Common modals that are used across different pages.
      You can include any modals that your new pipeline page might need.
    -->

    <!-- File Reader Modal -->
    <div id="fileReaderModal" class="modal">
        <div class="modal-content modal-large">
            <span class="close" onclick="closeFileReaderModal()">&times;</span>
            <h2 id="modalFileTitle">File Reader</h2>
            <pre id="modalFileContent">Loading...</pre>
            <div class="form-actions">
                <button type="button" class="btn btn-secondary" onclick="closeFileReaderModal()">Close</button>
            </div>
        </div>
    </div>

    <!-- Project Selection Modal -->
    <div id="projectModal" class="modal" style="display: none;">
        <div class="modal-content modal-large">
            <h2>üìÅ Project Selection</h2>
            <p style="color: slategray; font-weight: 600;">
                You must select or create a project to continue
            </p>
            <div class="project-selection">
                <div class="existing-projects" id="existingProjects">
                    <h2>üìÇ Existing Projects</h2>
                    <div id="projectsList" class="projects-list">
                        <p style="color: slategray; font-weight:600;" class="text-muted">Loading projects...</p>
                    </div>
                </div>
                <div class="divider-vertical">OR</div>
                <div class="new-project">
                    <h3>‚ûï Create New Project</h3>
                    <form id="newProjectForm">
                        <div class="form-group">
                            <label for="projectNameInput">Project Name:</label>
                            <input type="text" id="projectNameInput" placeholder="e.g., Klebsiella_2024" required>
                        </div>
                        <div class="form-group">
                            <label for="projectDescription">Description (optional):</label>
                            <textarea id="projectDescription" rows="3" placeholder="Brief description of the project"></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">Create New Project</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    <!-- TODO: Create and link a new JS file for this pipeline's specific logic -->
    <!-- <script src="{{ url_for('static', filename='js/your_new_pipeline.js') }}"></script> -->
</body>
</html>